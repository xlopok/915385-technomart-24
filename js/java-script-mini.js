var linkFeedback=document.querySelector(".button-red2");var form=document.querySelector(".appointment .appointment-form");var modalMap=document.querySelector("section.modal-map");var catalogBuyLink=document.querySelectorAll(".catalog-item .actions .buy");if(linkFeedback){var popupFeedback=document.querySelector(".appointment");var closeFeedback=popupFeedback.querySelector(".appointment .button-close");var feedbackName=popupFeedback.querySelector(".appointment-item input[name=name]");linkFeedback.addEventListener("click",function(evt){evt.preventDefault();popupFeedback.classList.add("modal-feedback-open");feedbackName.focus()});closeFeedback.addEventListener("click",function(evt){evt.preventDefault();popupFeedback.classList.remove("modal-feedback-open");popupFeedback.classList.remove("modal-error")});window.addEventListener("keydown",function(evt){if(evt.keyCode===27){if(popupFeedback.classList.contains("modal-feedback-open")){evt.preventDefault();popupFeedback.remove("modal-feedback-open");popupFeedback.classList.remove("modal-error")}}})};if(form){var feedbackPassword=popupFeedback.querySelector(".appointment-item input[name=email]");var feedbackTextarea=popupFeedback.querySelector(".appointment-form .feedback-area-bar");form.addEventListener("submit",function(evt){if(!feedbackName.value||!feedbackPassword.value||!feedbackTextarea.value){evt.preventDefault();popupFeedback.classList.remove("modal-error");popupFeedback.classList.add("modal-error")}})};if(modalMap){var miniMap=document.querySelector(".contacts p img");var closeMap=document.querySelector(".modal-map button");miniMap.addEventListener("click",function(evt){evt.preventDefault();modalMap.classList.add("modal-map-open")});closeMap.addEventListener("click",function(evt){evt.preventDefault();modalMap.classList.remove("modal-map-open")})};window.addEventListener("keydown",function(evt){if(evt.keyCode===27){if(modalMap.classList.contains("modal-map-open")){evt.preventDefault();modalMap.remove("modal-map-open");modalMap.classList.remove("modal-error")}}});if(catalogBuyLink){var popupBuy=document.querySelector(".hidden-catalog");var closeBuy=popupBuy.querySelector(".hidden-catalog .button-close");for(var i=0;i<catalogBuyLink.length;i++){var self=catalogBuyLink[i];self.addEventListener('click',function(evt){evt.preventDefault();popupBuy.classList.add("hidden-catalog-open")})}
closeBuy.addEventListener("click",function(evt){evt.preventDefault();popupBuy.classList.remove("hidden-catalog-open");popupFeedback.classList.remove("modal-error")})}