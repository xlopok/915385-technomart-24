var linkFeedback=document.querySelector(".button-red2"),form=document.querySelector(".appointment .appointment-form"),modalMap=document.querySelector("section.modal-map"),catalogBuyLink=document.querySelectorAll(".catalog-item .actions .buy");if(linkFeedback){var popupFeedback=document.querySelector(".appointment"),closeFeedback=popupFeedback.querySelector(".appointment .button-close"),feedbackName=popupFeedback.querySelector(".appointment-item input[name=name]");linkFeedback.addEventListener("click",function(e){e.preventDefault(),popupFeedback.classList.add("modal-feedback-open"),feedbackName.focus()}),closeFeedback.addEventListener("click",function(e){e.preventDefault(),popupFeedback.classList.remove("modal-feedback-open"),popupFeedback.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&popupFeedback.classList.contains("modal-feedback-open")&&(e.preventDefault(),popupFeedback.remove("modal-feedback-open"),popupFeedback.classList.remove("modal-error"))})}if(form){var feedbackPassword=popupFeedback.querySelector(".appointment-item input[name=email]"),feedbackTextarea=popupFeedback.querySelector(".appointment-form .feedback-area-bar");form.addEventListener("submit",function(e){feedbackName.value&&feedbackPassword.value&&feedbackTextarea.value||(e.preventDefault(),popupFeedback.classList.remove("modal-error"),popupFeedback.classList.add("modal-error"))})}if(modalMap){var miniMap=document.querySelector(".contacts p img"),closeMap=document.querySelector(".modal-map button");miniMap.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal-map-open")}),closeMap.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.remove("modal-map-open")})}if(window.addEventListener("keydown",function(e){27===e.keyCode&&modalMap.classList.contains("modal-map-open")&&(e.preventDefault(),modalMap.remove("modal-map-open"),modalMap.classList.remove("modal-error"))}),catalogBuyLink){for(var popupBuy=document.querySelector(".hidden-catalog"),closeBuy=popupBuy.querySelector(".hidden-catalog .button-close"),i=0;i<catalogBuyLink.length;i++){var self=catalogBuyLink[i];self.addEventListener("click",function(e){e.preventDefault(),popupBuy.classList.add("hidden-catalog-open")})}closeBuy.addEventListener("click",function(e){e.preventDefault(),popupBuy.classList.remove("hidden-catalog-open"),popupFeedback.classList.remove("modal-error")})}